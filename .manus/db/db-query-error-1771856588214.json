{
  "query": "CREATE TABLE IF NOT EXISTS `sales_commission_rules` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `version` varchar(50) NOT NULL COMMENT '规则版本号',\n  `category` enum('WET_MARKET','WHOLESALE_B','SUPERMARKET','ECOMMERCE','DEFAULT') NOT NULL DEFAULT 'DEFAULT' COMMENT '客户类型',\n  `effectiveFrom` date NOT NULL COMMENT '生效日期',\n  `ruleJson` json NOT NULL COMMENT '规则配置JSON',\n  `createdBy` int DEFAULT NULL COMMENT '创建人ID',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_version_category` (`version`,`category`),\n  KEY `idx_version` (`version`),\n  KEY `idx_category` (`category`),\n  KEY `idx_effective_from` (`effectiveFrom`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='销售提成规则表';\n\nINSERT INTO `sales_commission_rules` (`version`, `category`, `effectiveFrom`, `ruleJson`, `createdBy`) VALUES\n('2025-V1', 'WET_MARKET', '2025-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2025-V1', 'WHOLESALE_B', '2025-01-01', '{\"baseRate\": 0.015, \"newCustomerBonus\": 8000}', 1),\n('2025-V1', 'SUPERMARKET', '2025-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1),\n('2025-V1', 'ECOMMERCE', '2025-01-01', '{\"baseRate\": 0.03, \"newCustomerBonus\": 15000}', 1),\n('2025-V1', 'DEFAULT', '2025-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V1', 'WET_MARKET', '2026-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V1', 'WHOLESALE_B', '2026-01-01', '{\"baseRate\": 0.015, \"newCustomerBonus\": 8000}', 1),\n('2026-V1', 'SUPERMARKET', '2026-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1),\n('2026-V1', 'ECOMMERCE', '2026-01-01', '{\"baseRate\": 0.03, \"newCustomerBonus\": 15000}', 1),\n('2026-V1', 'DEFAULT', '2026-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V2', 'WET_MARKET', '2026-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1),\n('2026-V2', 'WHOLESALE_B', '2026-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V2', 'SUPERMARKET', '2026-01-01', '{\"baseRate\": 0.03, \"newCustomerBonus\": 15000}', 1),\n('2026-V2', 'ECOMMERCE', '2026-01-01', '{\"baseRate\": 0.035, \"newCustomerBonus\": 18000}', 1),\n('2026-V2', 'DEFAULT', '2026-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 45bMcCwxMseth2N.16417d1fde85 --database 8QpTLEs6K9fws4ZFuDGLC4 --execute CREATE TABLE IF NOT EXISTS `sales_commission_rules` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `version` varchar(50) NOT NULL COMMENT '规则版本号',\n  `category` enum('WET_MARKET','WHOLESALE_B','SUPERMARKET','ECOMMERCE','DEFAULT') NOT NULL DEFAULT 'DEFAULT' COMMENT '客户类型',\n  `effectiveFrom` date NOT NULL COMMENT '生效日期',\n  `ruleJson` json NOT NULL COMMENT '规则配置JSON',\n  `createdBy` int DEFAULT NULL COMMENT '创建人ID',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uk_version_category` (`version`,`category`),\n  KEY `idx_version` (`version`),\n  KEY `idx_category` (`category`),\n  KEY `idx_effective_from` (`effectiveFrom`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='销售提成规则表';\n\nINSERT INTO `sales_commission_rules` (`version`, `category`, `effectiveFrom`, `ruleJson`, `createdBy`) VALUES\n('2025-V1', 'WET_MARKET', '2025-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2025-V1', 'WHOLESALE_B', '2025-01-01', '{\"baseRate\": 0.015, \"newCustomerBonus\": 8000}', 1),\n('2025-V1', 'SUPERMARKET', '2025-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1),\n('2025-V1', 'ECOMMERCE', '2025-01-01', '{\"baseRate\": 0.03, \"newCustomerBonus\": 15000}', 1),\n('2025-V1', 'DEFAULT', '2025-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V1', 'WET_MARKET', '2026-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V1', 'WHOLESALE_B', '2026-01-01', '{\"baseRate\": 0.015, \"newCustomerBonus\": 8000}', 1),\n('2026-V1', 'SUPERMARKET', '2026-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1),\n('2026-V1', 'ECOMMERCE', '2026-01-01', '{\"baseRate\": 0.03, \"newCustomerBonus\": 15000}', 1),\n('2026-V1', 'DEFAULT', '2026-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V2', 'WET_MARKET', '2026-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1),\n('2026-V2', 'WHOLESALE_B', '2026-01-01', '{\"baseRate\": 0.02, \"newCustomerBonus\": 10000}', 1),\n('2026-V2', 'SUPERMARKET', '2026-01-01', '{\"baseRate\": 0.03, \"newCustomerBonus\": 15000}', 1),\n('2026-V2', 'ECOMMERCE', '2026-01-01', '{\"baseRate\": 0.035, \"newCustomerBonus\": 18000}', 1),\n('2026-V2', 'DEFAULT', '2026-01-01', '{\"baseRate\": 0.025, \"newCustomerBonus\": 12000}', 1);",
  "returncode": 1,
  "logs": [
    "ERROR 1054 (42S22) at line 17: Unknown column 'version' in 'field list'"
  ]
}